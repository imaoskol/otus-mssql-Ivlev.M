идея такова:

В таблице транзакций покупателей есть битовое поле isfinished.
Будем считать что это поле обновляется когда оплата прошла успешно.
 
Организуем асинхронную отправку смс при успешной оплате:
В коде проэкта при обновлении данного флага на 1 будем ставить запись в очередь на отправку смс через CLR ( предположим у нас есть clr для отправки 
смс через апи)
Организуем очередь. При обработке таргет очереди будет происходить отправка смс и запись в таблицу sms об отправке.

Для имитации процесса работы очереди написал курсор.
В таблице sms должны повляться записи об отправленных смс